import{d as w,p,h as N,q as O,v as I,c as f,o as q,j as s,ad as r,a as u,aE as v,aD as y,t as B,_ as J,af as D,G as b}from"./chunks/framework.CEgwgnIk.js";import{V as m}from"./chunks/theme.CYVjqWLi.js";import{A as K}from"./chunks/ApiTable.D9aVOBNJ.js";/* empty css                                                                        */const U={class:"storage-advance-demo"},M={class:"demo-section"},z={class:"config-section"},R={class:"config-item"},$={class:"config-item"},G={class:"config-item"},H={class:"full-key"},L={class:"data-section"},Q={class:"input-group"},W={class:"input-group"},X={class:"input-group"},Y={class:"storage-display"},Z={class:"display-content"},ss={class:"display-type"},is=w({__name:"StorageAdavanceDemo",setup(x){const h=p("local"),t=p("advanced-demo"),n=p("vuedir"),E=p(""),d=p(0),g=p('{"name": "VueDir", "version": 1.0}'),F=p(""),o=p(""),S=N(()=>n.value?`${n.value}:${t.value}`:t.value);let k=m(t.value,"",{type:h.value,prefix:n.value});function c(){k=m(t.value,"",{type:h.value,prefix:n.value}),C()}function V(){E.value&&(k.write(E.value),e(E.value))}function _(){k.write(d.value),e(d.value)}function T(){try{const a=JSON.parse(g.value);k.write(a),e(a)}catch{alert("无效的JSON格式")}}function C(){const a=k.read();e(a),typeof a=="string"?E.value=a:typeof a=="number"?d.value=a:typeof a=="object"&&a!==null&&(g.value=JSON.stringify(a,null,2))}function j(){k.remove(),A(),e("")}function P(){k.clear(),A(),e("")}function e(a){a==null?(F.value="空",o.value="null"):typeof a=="object"?(F.value=JSON.stringify(a,null,2),o.value="object"):(F.value=String(a),o.value=typeof a)}function A(){E.value="",d.value=0,g.value='{"name": "VueDir", "version": 1.0}'}return O(()=>k.value,a=>{e(a)}),I(()=>{C()}),(a,i)=>(q(),f("div",U,[i[17]||(i[17]=s("h3",null,"useStorage 示例",-1)),s("div",M,[s("div",z,[s("div",R,[i[9]||(i[9]=s("span",null,"存储类型：",-1)),s("label",null,[r(s("input",{type:"radio",value:"local","onUpdate:modelValue":i[0]||(i[0]=l=>h.value=l),onChange:c},null,544),[[v,h.value]]),i[7]||(i[7]=u(" localStorage "))]),s("label",null,[r(s("input",{type:"radio",value:"session","onUpdate:modelValue":i[1]||(i[1]=l=>h.value=l),onChange:c},null,544),[[v,h.value]]),i[8]||(i[8]=u(" sessionStorage "))])]),s("div",$,[i[10]||(i[10]=s("span",null,"键名：",-1)),r(s("input",{"onUpdate:modelValue":i[2]||(i[2]=l=>t.value=l),onChange:c,class:"key-input"},null,544),[[y,t.value]])]),s("div",G,[i[12]||(i[12]=s("span",null,"前缀：",-1)),r(s("input",{"onUpdate:modelValue":i[3]||(i[3]=l=>n.value=l),onChange:c,class:"prefix-input"},null,544),[[y,n.value]]),s("span",H,[i[11]||(i[11]=u("完整键名: ")),s("code",null,B(S.value),1)])])]),s("div",L,[s("div",Q,[i[13]||(i[13]=s("div",{class:"input-label"},"字符串值：",-1)),r(s("input",{"onUpdate:modelValue":i[4]||(i[4]=l=>E.value=l),placeholder:"输入字符串"},null,512),[[y,E.value]]),s("button",{onClick:V,class:"save-btn"},"保存")]),s("div",W,[i[14]||(i[14]=s("div",{class:"input-label"},"数字值：",-1)),r(s("input",{"onUpdate:modelValue":i[5]||(i[5]=l=>d.value=l),type:"number",placeholder:"输入数字"},null,512),[[y,d.value,void 0,{number:!0}]]),s("button",{onClick:_,class:"save-btn"},"保存")]),s("div",X,[i[15]||(i[15]=s("div",{class:"input-label"},"对象值：",-1)),r(s("textarea",{"onUpdate:modelValue":i[6]||(i[6]=l=>g.value=l),placeholder:"输入JSON对象",rows:"3"},null,512),[[y,g.value]]),s("button",{onClick:T,class:"save-btn"},"保存")])]),s("div",Y,[i[16]||(i[16]=s("div",{class:"display-header"},"当前存储值：",-1)),s("div",Z,[s("pre",null,B(F.value),1)]),s("div",ss,"类型: "+B(o.value),1)]),s("div",{class:"actions"},[s("button",{onClick:C,class:"read-btn"},"读取"),s("button",{onClick:j,class:"remove-btn"},"删除"),s("button",{onClick:P,class:"clear-btn"},"清空所有")])])]))}}),as=J(is,[["__scopeId","data-v-eb304f33"]]),ts=JSON.parse('{"title":"useStorage","description":"","frontmatter":{},"headers":[],"relativePath":"hooks/useStorage.md","filePath":"hooks/useStorage.md","lastUpdated":1742201963000}'),ns={name:"hooks/useStorage.md"},Es=Object.assign(ns,{setup(x){const h=[{name:"value",type:"Ref<T>",description:"存储值的响应式引用"},{name:"read",type:"() => T",description:"读取存储值"},{name:"write",type:"(value: T) => void",description:"写入存储值"},{name:"remove",type:"() => void",description:"删除存储项"},{name:"clear",type:"() => void",description:"清空所有带前缀的存储项"}];return(t,n)=>(q(),f("div",null,[n[0]||(n[0]=D("",8)),b(as),n[1]||(n[1]=D("",10)),b(K,{data:h}),n[2]||(n[2]=D("",2))]))}});export{ts as __pageData,Es as default};
