import{k as q}from"./chunks/theme.DYRv1Rfx.js";import{d as u,C as S,c as E,o as p,ac as g,k as f,b as _,w,a as B,_ as D,p as y,F as v,j as s,t as l,v as V,P as T,q as P,aB as b,aD as I,e as N,B as m,ae as c,n as x,G as o}from"./chunks/framework.D3orruFJ.js";import{A as M}from"./chunks/ApiTable.CdpRqZfT.js";/* empty css                                                                        */const H={class:"drag_box"},$=u({__name:"BasicDemo",setup(A){return(e,i)=>{const h=S("a-button");return p(),E("div",H,[g((p(),_(h,{type:"primary",shape:"round"},{default:w(()=>i[0]||(i[0]=[B("Drag me")])),_:1})),[[f(q)]]),g((p(),_(h,{type:"primary",shape:"round",style:{transform:"translate(120%, 120%)"}},{default:w(()=>i[1]||(i[1]=[B(" Drag me ")])),_:1})),[[f(q)]])])}}}),L=D($,[["__scopeId","data-v-ea8136bf"]]),R={class:"info_box"},O=u({__name:"WithEvents",setup(A){const e=y(null),i=y({startNum:0,endNum:0,dragNum:0});function h(){i.value.startNum+=1}function t(){i.value.dragNum+=1}function F(){i.value.endNum+=1}return(C,k)=>{const a=S("a-button");return p(),E(v,null,[s("div",{class:"drag_box",ref_key:"containerRef",ref:e},[g((p(),_(a,{type:"primary",shape:"round"},{default:w(()=>k[0]||(k[0]=[B(" Drag me ")])),_:1})),[[f(q),{startDrag:h,onDrag:{event:t},endDrag:F}]])],512),s("div",R,[s("p",null,"startNum: "+l(i.value.startNum),1),s("p",null,"dragNum: "+l(i.value.dragNum),1),s("p",null,"endNum: "+l(i.value.endNum),1)])],64)}}}),j=D(O,[["__scopeId","data-v-8af26f17"]]),J={class:"basic-drag-container"},U={class:"drag-options"},W={class:"option-group"},G={class:"option-group"},K={class:"drag-content"},Q={class:"drag-info"},X=u({__name:"BasicDrag",setup(A){const e=y("both"),i=y("parent"),h=y(null),t=y(null);function F(){if(t.value&&h.value){t.value.style.position="absolute";const k=h.value.getBoundingClientRect(),a=t.value.getBoundingClientRect(),n=(k.width-a.width)/2,r=(k.height-a.height)/2;t.value.style.left=`${n}px`,t.value.style.top=`${r}px`,t.value.style.transform="",t.value.style.margin="0"}}function C(){t.value&&(t.value.style.position="absolute")}return V(()=>{T(()=>{setTimeout(()=>{F()},100)})}),P(i,()=>{T(()=>{setTimeout(()=>{F()},50)})}),(k,a)=>{const n=b("drag");return p(),E("div",J,[a[8]||(a[8]=s("h3",null,"基础拖拽增强演示",-1)),s("div",U,[s("div",W,[a[3]||(a[3]=s("label",null,"拖拽方向限制:",-1)),g(s("select",{"onUpdate:modelValue":a[0]||(a[0]=r=>e.value=r)},a[2]||(a[2]=[s("option",{value:"both"},"两个方向 (x和y)",-1),s("option",{value:"x"},"仅水平方向 (x)",-1),s("option",{value:"y"},"仅垂直方向 (y)",-1)]),512),[[I,e.value]])]),s("div",G,[a[5]||(a[5]=s("label",null,"边界限制:",-1)),g(s("select",{"onUpdate:modelValue":a[1]||(a[1]=r=>i.value=r)},a[4]||(a[4]=[s("option",{value:"none"},"无限制",-1),s("option",{value:"parent"},"父容器内",-1)]),512),[[I,i.value]])])]),s("div",{class:"drag-playground",ref_key:"playgroundRef",ref:h},[g((p(),E("div",{class:"drag-element",ref_key:"dragElement",ref:t},[s("div",K,[a[7]||(a[7]=s("div",{class:"drag-title"},"拖动我",-1)),s("div",Q,[B(l(e.value==="both"?"可任意方向拖动":e.value==="x"?"只能水平拖动":"只能垂直拖动")+" ",1),a[6]||(a[6]=s("br",null,null,-1)),B(" "+l(i.value==="parent"?"限制在父容器内":"无边界限制"),1)])])])),[[n,{axis:e.value,bounds:i.value==="parent"?"parent":null,startDrag:C}]])],512),s("div",{class:"controls"},[s("button",{onClick:F},"重置位置")])])}}}),Y=D(X,[["__scopeId","data-v-9efc7630"]]),Z={class:"list-container"},ss={key:0,class:"debug-info"},is={class:"sort-list"},as={class:"item-content"},ns={class:"item-number"},hs={class:"item-text"},ks={class:"result"},ls={class:"order-info"},ps={class:"controls"},ts=u({name:"ListSort",__name:"ListSort",setup(A){const e=[{id:1,text:"项目 1"},{id:2,text:"项目 2"},{id:3,text:"项目 3"},{id:4,text:"项目 4"},{id:5,text:"项目 5"}],i=y([]),h=y("无"),t=y(!1);function F({oldIndex:a,newIndex:n}){if(console.log(`排序: 从 ${a} 到 ${n}`),h.value=`从位置 ${a+1} 到位置 ${n+1}`,a>=0&&n>=0&&a<i.value.length&&n<=i.value.length){const r=i.value.splice(a,1)[0];i.value.splice(n,0,r),console.log("排序后的数据:",i.value.map(d=>d.text))}else console.warn("排序索引超出范围:",a,n,i.value.length)}function C(){i.value=JSON.parse(JSON.stringify(e)),h.value="无"}function k(){t.value=!t.value}return V(()=>{C()}),(a,n)=>{const r=b("drag");return p(),E("div",Z,[n[1]||(n[1]=s("h3",null,"可排序列表",-1)),n[2]||(n[2]=s("div",{class:"instruction"},"拖动列表项可以重新排序",-1)),t.value?(p(),E("div",ss,[s("p",null,"最后一次排序: "+l(h.value),1),s("p",null,"当前数据顺序: "+l(i.value.map(d=>d.text).join(", ")),1)])):N("",!0),s("ul",is,[(p(!0),E(v,null,m(i.value,(d,z)=>g((p(),E("li",{key:d.id,class:"list-item"},[s("div",as,[s("span",ns,l(z+1),1),s("span",hs,l(d.text),1)])])),[[r,{isList:!0,onSort:F}]])),128))]),s("div",ks,[n[0]||(n[0]=s("h4",null,"当前排序:",-1)),s("div",ls,l(i.value.map(d=>d.text).join(" → ")),1),s("div",ps,[s("button",{class:"reset-btn",onClick:C},"重置顺序"),s("button",{class:"debug-btn",onClick:k},l(t.value?"隐藏调试":"显示调试"),1)])])])}}}),Es=D(ts,[["__scopeId","data-v-9ff67f50"]]),es={class:"handle-demo-container"},rs={class:"cards-container"},ds={class:"card"},gs={class:"card"},ys={class:"card"},Fs=u({name:"DragHandle",__name:"DragHandle",setup(A){return(e,i)=>{const h=b("drag");return p(),E("div",es,[i[3]||(i[3]=s("h3",null,"拖拽把手示例",-1)),s("div",rs,[g((p(),E("div",ds,i[0]||(i[0]=[s("div",{class:"card-handle"},[s("svg",{class:"handle-icon",viewBox:"0 0 24 24"},[s("path",{d:"M8,18h8v-2H8V18z M8,14h8v-2H8V14z M8,10h8V8H8V10z M4,22V2h16v20H4z"})])],-1),s("div",{class:"card-content"},[s("h4",null,"拖拽把手示例"),s("p",null,"点击左侧图标拖动整张卡片。点击此文本区域不会触发拖动。")],-1)]))),[[h,{handle:".card-handle"}]]),g((p(),E("div",gs,i[1]||(i[1]=[c("",2)]))),[[h,{handle:".card-header"}]]),g((p(),E("div",ys,i[2]||(i[2]=[s("div",{class:"card-content full-width"},[s("h4",null,"标准拖拽（无把手）"),s("p",null,"对照组：点击卡片的任何位置均可拖动整个卡片。")],-1)]))),[[h]])]),i[4]||(i[4]=s("div",{class:"info-panel"},[s("p",null,[B("使用 "),s("code",null,"handle"),B(" 选项可以指定拖拽把手元素，只有当用户与该元素交互时才能触发拖拽。")]),s("pre",null,[s("code",null,`v-drag="{ handle: '.card-handle' }"`)])],-1))])}}}),Cs=D(Fs,[["__scopeId","data-v-91636a46"]]),cs={class:"task-board-container"},os={class:"board-columns"},Bs={class:"board-column"},As={class:"task-list"},us={class:"task-content"},Ds={class:"task-title"},vs={class:"task-description"},ms={class:"task-meta"},bs={class:"task-id"},xs={class:"board-column"},qs={class:"task-list"},fs={class:"task-content"},_s={class:"task-title"},ws={class:"task-description"},Ts={class:"task-meta"},Is={class:"task-id"},Ss={class:"board-column"},Vs={class:"task-list"},zs={class:"task-content"},Ps={class:"task-title"},Ns={class:"task-description"},Ms={class:"task-meta"},Hs={class:"task-id"},$s=u({name:"TaskBoard",__name:"TaskBoard",setup(A){const e={high:"高",medium:"中",low:"低"},i=y([{id:101,title:"设计登录页面",description:"为新应用设计登录界面和注册表单",priority:"high"},{id:102,title:"实现数据验证",description:"对所有用户输入添加表单验证功能",priority:"medium"},{id:103,title:"编写单元测试",description:"为认证模块编写单元测试",priority:"low"}]),h=y([{id:201,title:"重构API模块",description:"使用新的请求库重构API请求模块",priority:"medium"},{id:202,title:"优化图片加载",description:"添加图片懒加载和渐进式加载功能",priority:"high"}]),t=y([{id:301,title:"修复导航栏bug",description:"解决移动端导航栏折叠问题",priority:"high"},{id:302,title:"更新依赖包",description:"更新所有npm包到最新版本",priority:"low"},{id:303,title:"添加深色模式",description:"实现应用的深色模式切换功能",priority:"medium"}]);function F(C,k){let a=[];C==="todo"?a=i.value:C==="inProgress"?a=h.value:C==="done"&&(a=t.value);const{oldIndex:n,newIndex:r}=k;if(n!==r&&n>=0&&r>=0&&n<a.length&&r<=a.length){const[d]=a.splice(n,1);a.splice(r,0,d)}}return(C,k)=>{const a=b("drag");return p(),E("div",cs,[k[6]||(k[6]=s("h3",null,"任务看板（综合示例）",-1)),s("div",os,[s("div",Bs,[k[1]||(k[1]=s("div",{class:"column-header"},"待办任务",-1)),s("ul",As,[(p(!0),E(v,null,m(i.value,(n,r)=>g((p(),E("li",{key:n.id,class:"task-card"},[k[0]||(k[0]=s("div",{class:"task-handle"},[s("svg",{class:"handle-icon",viewBox:"0 0 24 24"},[s("path",{d:"M3,15h18v-2H3V15z M3,19h18v-2H3V19z M3,11h18V9H3V11z M3,5v2h18V5H3z"})])],-1)),s("div",us,[s("div",Ds,l(n.title),1),s("div",vs,l(n.description),1),s("div",ms,[s("span",{class:x(["priority","priority-"+n.priority])},l(e[n.priority]),3),s("span",bs,"#"+l(n.id),1)])])])),[[a,{isList:!0,handle:".task-handle",onSort:d=>F("todo",d)}]])),128))])]),s("div",xs,[k[3]||(k[3]=s("div",{class:"column-header"},"进行中",-1)),s("ul",qs,[(p(!0),E(v,null,m(h.value,(n,r)=>g((p(),E("li",{key:n.id,class:"task-card"},[k[2]||(k[2]=s("div",{class:"task-handle"},[s("svg",{class:"handle-icon",viewBox:"0 0 24 24"},[s("path",{d:"M3,15h18v-2H3V15z M3,19h18v-2H3V19z M3,11h18V9H3V11z M3,5v2h18V5H3z"})])],-1)),s("div",fs,[s("div",_s,l(n.title),1),s("div",ws,l(n.description),1),s("div",Ts,[s("span",{class:x(["priority","priority-"+n.priority])},l(e[n.priority]),3),s("span",Is,"#"+l(n.id),1)])])])),[[a,{isList:!0,handle:".task-handle",onSort:d=>F("inProgress",d)}]])),128))])]),s("div",Ss,[k[5]||(k[5]=s("div",{class:"column-header"},"已完成",-1)),s("ul",Vs,[(p(!0),E(v,null,m(t.value,(n,r)=>g((p(),E("li",{key:n.id,class:"task-card"},[k[4]||(k[4]=s("div",{class:"task-handle"},[s("svg",{class:"handle-icon",viewBox:"0 0 24 24"},[s("path",{d:"M3,15h18v-2H3V15z M3,19h18v-2H3V19z M3,11h18V9H3V11z M3,5v2h18V5H3z"})])],-1)),s("div",zs,[s("div",Ps,l(n.title),1),s("div",Ns,l(n.description),1),s("div",Ms,[s("span",{class:x(["priority","priority-"+n.priority])},l(e[n.priority]),3),s("span",Hs,"#"+l(n.id),1)])])])),[[a,{isList:!0,handle:".task-handle",onSort:d=>F("done",d)}]])),128))])])]),k[7]||(k[7]=s("div",{class:"feature-description"},[s("h4",null,"功能说明"),s("ul",null,[s("li",null,"通过左侧拖拽把手可以重新排序每一列中的任务卡片"),s("li",null,"仅点击卡片左侧带有线条图标的区域才能拖动卡片"),s("li",null,"每列内的任务可以独立排序"),s("li",null,"实现了重排时的视觉反馈和平滑动画")]),s("p",null,"此示例展示了 v-drag 指令的列表排序和拖拽把手功能的结合使用。")],-1))])}}}),Ls=D($s,[["__scopeId","data-v-08c7776a"]]),Ws=JSON.parse('{"title":"v-drag","description":"","frontmatter":{},"headers":[],"relativePath":"directives/drag.md","filePath":"directives/drag.md","lastUpdated":1741283015000}'),Rs={name:"directives/drag.md"},Gs=Object.assign(Rs,{setup(A){const e=[{name:"startDrag",type:"Function",default:"null",description:"拖拽开始时触发的回掉函数",required:!1},{name:"onDrag",type:"Function",default:"null",description:"拖拽中触发的回掉函数",required:!1},{name:"endDrag",type:"Function",default:"null",description:"拖拽结束时触发的回掉函数",required:!1},{name:"isList",type:"Boolean",default:"false",description:"是否启用列表拖拽排序功能",required:!1},{name:"onSort",type:"Function",default:"null",description:"列表排序完成时的回调函数，接收 oldIndex 和 newIndex 参数",required:!1},{name:"handle",type:"String",default:"null",description:"拖拽把手的CSS选择器，指定后只有点击该元素才能触发拖拽",required:!1},{name:"axis",type:"String",default:"both",description:"限制拖拽方向，可选值为 'x'、'y'、'both'",required:!1},{name:"bounds",type:"String|HTMLElement",default:"null",description:"限制拖拽边界，可设置为 'parent' 或一个HTML元素",required:!1}];return(i,h)=>(p(),E("div",null,[h[0]||(h[0]=c("",5)),o(L),h[1]||(h[1]=c("",3)),o(j),h[2]||(h[2]=c("",5)),o(Y),h[3]||(h[3]=c("",3)),o(Es),h[4]||(h[4]=c("",3)),o(Cs),h[5]||(h[5]=c("",3)),o(Ls),h[6]||(h[6]=c("",7)),o(M,{data:e}),h[7]||(h[7]=c("",2))]))}});export{Ws as __pageData,Gs as default};
