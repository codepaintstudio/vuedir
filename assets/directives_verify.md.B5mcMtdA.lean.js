import{d as A,a2 as f,p as t,ab as E,k as v,c,o as B,j as i,aC as r,_ as q,ad as o,G as C}from"./chunks/framework.BeX3lPKv.js";import{E as b,N as g}from"./chunks/theme.DCjRnQ7o.js";import{A as w}from"./chunks/ApiTable.DuEw1IeG.js";/* empty css                                                                        */const x=["model"],_={class:"form-item"},P={class:"form-item"},V={class:"form-item"},S={class:"form-item"},T=["disabled"],$=A({__name:"VerifyDemo",setup(u){const n=f({username:"",password:"",confirmPassword:""}),l=t(!1),h=t(!1);t({});const e=t(1e3),d={username:[{required:!0,message:"用户名不能为空"},{min:3,max:10,message:"用户名长度必须在 3 到 10 个字符之间"},{asyncValidator:p=>new Promise(a=>{setTimeout(()=>{a(p!=="admin"?null:"用户名已存在")},1e3)})}],password:[{required:!0,message:"密码不能为空"},{pattern:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,message:"密码必须包含字母和数字，且长度至少为 8 位"}],confirmPassword:[{required:!0,message:"请再次输入密码"},{asyncValidator:p=>p===n.password?null:"两次输入的密码不一致"}]},y=p=>{const{isValid:a}=p.detail;h.value=!a},F=p=>{p.preventDefault(),console.log(h.value),l.value=!0,setTimeout(()=>{h.value?g.error("提交失败，请检查表单错误"):g.success("提交成功"),l.value=!1},e.value)};return(p,a)=>E((B(),c("form",{model:n,onSubmit:F,onValidate:y,class:"custom-form"},[i("div",_,[a[3]||(a[3]=i("label",{for:"username"},"用户名",-1)),E(i("input",{type:"text",id:"username",name:"username","onUpdate:modelValue":a[0]||(a[0]=s=>n.username=s),placeholder:"请输入用户名"},null,512),[[r,n.username]]),a[4]||(a[4]=i("div",{class:"error-message"},null,-1))]),i("div",P,[a[5]||(a[5]=i("label",{for:"password"},"密码",-1)),E(i("input",{type:"password",id:"password",name:"password","onUpdate:modelValue":a[1]||(a[1]=s=>n.password=s),placeholder:"请输入密码"},null,512),[[r,n.password]]),a[6]||(a[6]=i("div",{class:"error-message"},null,-1))]),i("div",V,[a[7]||(a[7]=i("label",{for:"confirmPassword"},"确认密码",-1)),E(i("input",{type:"password",id:"confirmPassword",name:"confirmPassword","onUpdate:modelValue":a[2]||(a[2]=s=>n.confirmPassword=s),placeholder:"请再次输入密码"},null,512),[[r,n.confirmPassword]]),a[8]||(a[8]=i("div",{class:"error-message"},null,-1))]),i("div",S,[i("button",{type:"submit",disabled:l.value},"提交",8,T)])],40,x)),[[v(b),{...d,delay:e.value},"submit"]])}}),N=q($,[["__scopeId","data-v-97be3617"]]),z=["model"],I={class:"form-item"},Z={class:"form-item"},U={class:"form-item"},j={class:"form-item"},O=["disabled"],R=A({__name:"BlurDemo",setup(u){const n=f({username:"",password:"",confirmPassword:""}),l=t(!1),h=t(!1),e=t({}),d=t(1e3),y={username:[{required:!0,message:"用户名不能为空"},{min:3,max:10,message:"用户名长度必须在 3 到 10 个字符之间"},{asyncValidator:a=>new Promise(s=>{setTimeout(()=>{s(a!=="admin"?null:"用户名已存在")},1e3)})}],password:[{required:!0,message:"密码不能为空"},{pattern:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,message:"密码必须包含字母和数字，且长度至少为 8 位"}],confirmPassword:[{required:!0,message:"请再次输入密码"},{asyncValidator:a=>a===n.password?null:"两次输入的密码不一致"}]},F=a=>{const{field:s,isValid:k,errors:m}=a.detail;e.value={...e.value,...m},h.value=Object.values(e.value).every(D=>D===null)},p=a=>{a.preventDefault(),l.value=!0,setTimeout(()=>{h.value?g.success("提交成功"):g.error("提交失败，请检查表单错误"),l.value=!1},d.value)};return(a,s)=>E((B(),c("form",{model:n,onSubmit:p,onValidate:F,class:"custom-form"},[i("div",I,[s[3]||(s[3]=i("label",{for:"username"},"用户名",-1)),E(i("input",{type:"text",id:"username",name:"username","onUpdate:modelValue":s[0]||(s[0]=k=>n.username=k),placeholder:"请输入用户名"},null,512),[[r,n.username]]),s[4]||(s[4]=i("div",{class:"error-message"},null,-1))]),i("div",Z,[s[5]||(s[5]=i("label",{for:"password"},"密码",-1)),E(i("input",{type:"password",id:"password",name:"password","onUpdate:modelValue":s[1]||(s[1]=k=>n.password=k),placeholder:"请输入密码"},null,512),[[r,n.password]]),s[6]||(s[6]=i("div",{class:"error-message"},null,-1))]),i("div",U,[s[7]||(s[7]=i("label",{for:"confirmPassword"},"确认密码",-1)),E(i("input",{type:"password",id:"confirmPassword",name:"confirmPassword","onUpdate:modelValue":s[2]||(s[2]=k=>n.confirmPassword=k),placeholder:"请再次输入密码"},null,512),[[r,n.confirmPassword]]),s[8]||(s[8]=i("div",{class:"error-message"},null,-1))]),i("div",j,[i("button",{type:"submit",disabled:l.value},"提交",8,O)])],40,z)),[[v(b),{...y,delay:d.value},"blur"]])}}),G=q(R,[["__scopeId","data-v-d6ef4c18"]]),J=["model"],M={class:"form-item"},H={class:"form-item"},K={class:"form-item"},L={class:"form-item"},Q=["disabled"],W=A({__name:"CombineDemo",setup(u){const n=f({username:"",password:"",confirmPassword:""}),l=t(!1),h=t(!1),e=t({}),d=t(1e3),y={username:[{required:!0,message:"用户名不能为空"},{min:3,max:10,message:"用户名长度必须在 3 到 10 个字符之间"},{asyncValidator:a=>new Promise(s=>{setTimeout(()=>{s(a!=="admin"?null:"用户名已存在")},1e3)})}],password:[{required:!0,message:"密码不能为空"},{pattern:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,message:"密码必须包含字母和数字，且长度至少为 8 位"}],confirmPassword:[{required:!0,message:"请再次输入密码"},{asyncValidator:a=>a===n.password?null:"两次输入的密码不一致"}]},F=a=>{const{field:s,isValid:k,errors:m}=a.detail;e.value={...e.value,...m},h.value=Object.values(e.value).every(D=>D===null)},p=a=>{a.preventDefault(),l.value=!0,setTimeout(()=>{h.value?g.success("提交成功"):g.error("提交失败，请检查表单错误"),l.value=!1},d.value)};return(a,s)=>E((B(),c("form",{model:n,onSubmit:p,onValidate:F,class:"custom-form"},[i("div",M,[s[3]||(s[3]=i("label",{for:"username"},"用户名",-1)),E(i("input",{type:"text",id:"username",name:"username","onUpdate:modelValue":s[0]||(s[0]=k=>n.username=k),placeholder:"请输入用户名"},null,512),[[r,n.username]]),s[4]||(s[4]=i("div",{class:"error-message"},null,-1))]),i("div",H,[s[5]||(s[5]=i("label",{for:"password"},"密码",-1)),E(i("input",{type:"password",id:"password",name:"password","onUpdate:modelValue":s[1]||(s[1]=k=>n.password=k),placeholder:"请输入密码"},null,512),[[r,n.password]]),s[6]||(s[6]=i("div",{class:"error-message"},null,-1))]),i("div",K,[s[7]||(s[7]=i("label",{for:"confirmPassword"},"确认密码",-1)),E(i("input",{type:"password",id:"confirmPassword",name:"confirmPassword","onUpdate:modelValue":s[2]||(s[2]=k=>n.confirmPassword=k),placeholder:"请再次输入密码"},null,512),[[r,n.confirmPassword]]),s[8]||(s[8]=i("div",{class:"error-message"},null,-1))]),i("div",L,[i("button",{type:"submit",disabled:l.value},"提交",8,Q)])],40,J)),[[v(b),{...y,delay:d.value}]])}}),X=q(W,[["__scopeId","data-v-8691e585"]]),hs=JSON.parse('{"title":"v-verify 指令","description":"","frontmatter":{},"headers":[],"relativePath":"directives/verify.md","filePath":"directives/verify.md","lastUpdated":1741250465000}'),Y={name:"directives/verify.md"},ks=Object.assign(Y,{setup(u){const n=[{name:":mode",type:"string",default:"null",description:"指定校验触发的方式，可选值：submit、blur。默认为 submit 和 blur 两种都支持",required:!1},{name:"...rules",type:"object",default:"rules",description:"组件内部定义规则要求",required:!0},{name:"@validate",type:"function",default:"null",description:"校验结果回调函数，返回校验结果 isValid 和 errors",required:!0},{name:"delay",type:"number",default:"1000",description:"校验延迟时间，单位毫秒",required:!1}];return(l,h)=>(B(),c("div",null,[h[0]||(h[0]=o("",6)),C(N),h[1]||(h[1]=o("",2)),C(G),h[2]||(h[2]=o("",2)),C(X),h[3]||(h[3]=o("",2)),C(w,{data:n}),h[4]||(h[4]=o("",3))]))}});export{hs as __pageData,ks as default};
