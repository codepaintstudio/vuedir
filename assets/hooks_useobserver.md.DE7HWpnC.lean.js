import{V as C,M as B,N as c}from"./chunks/theme.BfoQEBc2.js";import{d as g,p as E,C as p,b as D,o as y,w as t,G as n,j as r,a as d,t as A,k as v,c as m,q as f,af as e}from"./chunks/framework.CEgwgnIk.js";import{A as _}from"./chunks/ApiTable.D9aVOBNJ.js";/* empty css                                                                        */const x=g({__name:"MutationObserverDemo",setup(F){const h=E(null),l=E("初始文本"),i=()=>{var s;const a=document.createElement("span");Object.assign(a.style,{padding:"4px 8px"}),a.innerText=`新增的 DOM ${(Math.random()*50+50).toFixed(2)}`,(s=h.value)==null||s.appendChild(a)};return C(h,{mutation:{enabled:!0,callback:()=>B.success("DOM 变化：新增了DOM内容")}}),(a,s)=>{const k=p("a-button"),o=p("a-space"),u=p("a-card");return y(),D(u,{style:{"border-radius":"8px",margin:"16px"}},{default:t(()=>[n(o,null,{default:t(()=>[n(k,{type:"primary",shape:"round",size:"large",onClick:s[0]||(s[0]=b=>l.value+=" 变化")},{default:t(()=>s[1]||(s[1]=[d("修改文本")])),_:1}),n(k,{type:"primary",shape:"round",size:"large",onClick:i},{default:t(()=>s[2]||(s[2]=[d("添加 子DOM")])),_:1})]),_:1}),r("div",{ref_key:"container",ref:h,style:{margin:"16px 0",border:"1px solid var(--vp-c-text-1)","border-radius":"8px",padding:"16px"}},A(l.value),513)]),_:1})}}}),q=g({__name:"IntersectionObserverDemo",setup(F){const h=E(null),{isIntersecting:l}=C(h,{intersection:{enabled:!0,callback:i=>c.info({title:"Intersection Observer 示例",content:`是否可见：${i[0].isIntersecting?"是":"否"}`})}});return(i,a)=>{const s=p("a-button"),k=p("a-card");return y(),D(k,{style:{padding:"8px","border-radius":"8px"}},{default:t(()=>[r("p",null,"是否可见："+A(v(l)),1),a[1]||(a[1]=r("h3",null,"Intersection Observer 示例",-1)),n(s,{ref_key:"target",ref:h,type:"primary",shape:"round",size:"large",long:"",status:"warning",style:{"margin-top":"30vh"}},{default:t(()=>a[0]||(a[0]=[d(" 滚动到这里触发观察 ")])),_:1},512)]),_:1})}}}),O=g({__name:"ResizeObserverDemo",setup(F){const h=E(null);return C(h,{resize:{enabled:!0,callback:l=>c.warning({title:"Resize Observer 示例",content:`宽度：${l[0].contentRect.width}px，高度：${l[0].contentRect.height}px`,showIcon:!1})}}),(l,i)=>(y(),m("div",null,[i[0]||(i[0]=r("h3",null,"Resize Observer 示例",-1)),r("div",{ref_key:"box",ref:h,style:{width:"200px",height:"100px",border:"1px solid var(--vp-c-text-1)",resize:"both",overflow:"hidden","border-radius":"8px",display:"flex","justify-content":"center","align-items":"center",cursor:"nwse-resize","font-size":"larger"}}," 调整大小 ",512)]))}}),T=g({__name:"CombinedObserverDemo",setup(F){const h=E(null),l=E("初始文本"),i=()=>{var k;const s=document.createElement("span");Object.assign(s.style,{padding:"4px 8px"}),s.innerText="新增的 DOM",(k=h.value)==null||k.appendChild(s)},{isIntersecting:a}=C(h,{intersection:{enabled:!0,callback:s=>c.info({title:"Intersection Observer",content:`是否可见：${s[0].isIntersecting?"是":"否"}`})},mutation:{enabled:!0,callback:()=>B.success("DOM 变化")},resize:{enabled:!0,callback:s=>c.warning({title:"Resize Observer",content:`宽度：${s[0].contentRect.width}px，高度：${s[0].contentRect.height}px`,showIcon:!1})}});return f(a,s=>{B.info({content:`综合案例中，元素是否可见：${s?"是":"否"}`})}),(s,k)=>{const o=p("a-button"),u=p("a-space"),b=p("a-card");return y(),D(b,{style:{"border-radius":"8px",margin:"16px",padding:"16px"}},{default:t(()=>[n(u,null,{default:t(()=>[n(o,{type:"primary",shape:"round",size:"large",onClick:k[0]||(k[0]=I=>l.value+=" 变化")},{default:t(()=>k[1]||(k[1]=[d("修改文本")])),_:1}),n(o,{type:"primary",shape:"round",size:"large",onClick:i},{default:t(()=>k[2]||(k[2]=[d("添加子 DOM")])),_:1})]),_:1}),r("div",{ref_key:"target",ref:h,style:{"margin-top":"30vh",width:"200px",height:"100px",border:"1px solid var(--vp-c-text-1)",resize:"both",overflow:"hidden","border-radius":"8px",display:"flex","justify-content":"center","align-items":"center",cursor:"nwse-resize","font-size":"larger"}},A(l.value),513)]),_:1})}}}),$=JSON.parse('{"title":"useObserver","description":"","frontmatter":{},"headers":[],"relativePath":"hooks/useobserver.md","filePath":"hooks/useobserver.md","lastUpdated":1741921052000}'),z={name:"hooks/useobserver.md"},S=g({...z,setup(F){const h=[{name:"mutation",type:"Ref<MutationRecord[]>",default:"[]",description:"存储 MutationObserver 的回调记录",required:!1},{name:"intersection",type:"Ref<IntersectionObserverEntry[]>",default:"[]",description:"存储 IntersectionObserver 的回调记录",required:!1},{name:"resize",type:"Ref<ResizeObserverEntry[]>",default:"[]",description:"存储 ResizeObserver 的回调记录",required:!1},{name:"isIntersecting",type:"Ref<boolean>",default:"false",description:"当前元素是否处于视口内",required:!1},{name:"disconnect",type:"Function",default:"-",description:"断开所有观察器连接，停止监控",required:!1},{name:"reconnect",type:"Function",default:"-",description:"重新连接观察器，恢复监控",required:!1}];return(l,i)=>{const a=p("ClientOnly");return y(),m("div",null,[i[0]||(i[0]=e("",11)),n(a,null,{default:t(()=>[n(x)]),_:1}),i[1]||(i[1]=e("",2)),n(a,null,{default:t(()=>[n(q)]),_:1}),i[2]||(i[2]=e("",2)),n(a,null,{default:t(()=>[n(O)]),_:1}),i[3]||(i[3]=e("",2)),n(a,null,{default:t(()=>[n(T)]),_:1}),i[4]||(i[4]=e("",6)),n(_,{data:h}),i[5]||(i[5]=e("",3))])}}});export{$ as __pageData,S as default};
