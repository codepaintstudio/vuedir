import{_ as m,aB as v,c as r,o as d,ad as k,j as n,d as _,p as D,e as S,a as l,aC as I,aD as e,t as A,af as E,G as F}from"./chunks/framework.CEgwgnIk.js";import{A as w}from"./chunks/ApiTable.D9aVOBNJ.js";/* empty css                                                                        */const M={},V={class:"demo-container"},U={controls:"",src:"../.../../../../public/directives/audiopectrum/trun the lights back on.mp3"};function N(o,p){const a=v("audiopectrum");return d(),r("div",V,[k(n("audio",U,null,512),[[a]])])}const $=m(M,[["render",N],["__scopeId","data-v-19676b1c"]]),z={class:"demo-container"},R=["src"],L={class:"controls"},X={class:"control-group"},Y={key:0,class:"control-group"},O={class:"color-picker"},j=_({__name:"audioPectrumAdvancedDemo",setup(o){const p=D("../../../public/directives/audiopectrum/trun the lights back on.mp3"),a=D({mode:"circular",fftSize:1024,colors:{start:"#00ff88",end:"#ff0077"}});return(i,s)=>{const t=v("audiopectrum");return d(),r("div",z,[k(n("audio",{controls:"",src:p.value},null,8,R),[[t,a.value]]),n("div",L,[n("div",X,[n("label",null,[s[7]||(s[7]=l("显示模式： ")),k(n("select",{"onUpdate:modelValue":s[0]||(s[0]=h=>a.value.mode=h)},s[6]||(s[6]=[n("option",{value:"bars"},"柱状图",-1),n("option",{value:"waveform"},"波形图",-1),n("option",{value:"circular"},"圆形模式",-1)]),512),[[I,a.value.mode]])])]),a.value.mode==="circular"?(d(),r("div",Y,[s[11]||(s[11]=n("h4",null,"圆形特效参数",-1)),n("label",null,[s[8]||(s[8]=l("脉冲间隔： ")),k(n("input",{type:"range","onUpdate:modelValue":s[1]||(s[1]=h=>a.value.circlePulseInterval=h),min:"50",max:"500"},null,512),[[e,a.value.circlePulseInterval,void 0,{number:!0}]]),l(" "+A(a.value.circlePulseInterval)+"ms ",1)]),n("label",null,[s[9]||(s[9]=l("生命周期： ")),k(n("input",{type:"range","onUpdate:modelValue":s[2]||(s[2]=h=>a.value.circleLifetime=h),min:"500",max:"2000"},null,512),[[e,a.value.circleLifetime,void 0,{number:!0}]]),l(" "+A(a.value.circleLifetime)+"ms ",1)]),n("label",null,[s[10]||(s[10]=l("最大数量： ")),k(n("input",{type:"range","onUpdate:modelValue":s[3]||(s[3]=h=>a.value.circleMaxCount=h),min:"1",max:"10"},null,512),[[e,a.value.circleMaxCount,void 0,{number:!0}]]),l(" "+A(a.value.circleMaxCount),1)])])):S("",!0),n("div",O,[n("label",null,[s[12]||(s[12]=l("起始颜色： ")),k(n("input",{type:"color","onUpdate:modelValue":s[4]||(s[4]=h=>a.value.colors.start=h)},null,512),[[e,a.value.colors.start]])]),n("label",null,[s[13]||(s[13]=l("结束颜色： ")),k(n("input",{type:"color","onUpdate:modelValue":s[5]||(s[5]=h=>a.value.colors.end=h)},null,512),[[e,a.value.colors.end]])])])])])}}}),G=m(j,[["__scopeId","data-v-7ccaded3"]]),W={class:"demo-container"},H=["src"],J=_({__name:"audioPectrumCustomDemo",setup(o){const p=D("../../../public/directives/audiopectrum/trun the lights back on.mp3"),a=({ctx:i,dataArray:s,canvas:t,analyzer:h})=>{i.fillStyle="rgba(0, 0, 0, 0.1)",i.fillRect(0,0,t.width,t.height);const c=t.width/2,u=t.height/2,x=Math.min(c,u)*.8,g=new Uint8Array(h.frequencyBinCount);h.getByteFrequencyData(g);const C=200;for(let y=0;y<C;y++){const q=y/C*Math.PI*2,b=Math.floor(y/C*g.length),B=g[b]/255,f=x*B,P=c+Math.cos(q)*f,T=u+Math.sin(q)*f;i.beginPath(),i.arc(P,T,2+B*4,0,Math.PI*2),i.fillStyle=`hsla(${b/g.length*360}, 70%, 50%, ${.5+B*.5})`,i.fill()}i.beginPath(),i.arc(c,u,10,0,Math.PI*2),i.fillStyle="#fff",i.fill()};return(i,s)=>{const t=v("audiopectrum");return d(),r("div",W,[k(n("audio",{controls:"",src:p.value},null,8,H),[[t,{mode:"custom",customDraw:a,fftSize:256}]])])}}}),K=m(J,[["__scopeId","data-v-db8886db"]]),as=JSON.parse('{"title":"v-audiopectrum 指令","description":"","frontmatter":{},"headers":[],"relativePath":"directives/audiopectrum.md","filePath":"directives/audiopectrum.md","lastUpdated":1742030412000}'),Q={name:"directives/audiopectrum.md"},ns=Object.assign(Q,{setup(o){const p=[{name:"mode",type:"bars | waveform | circular | custom（自定义）",required:!1,description:"可视化模式选择",default:"bars"},{name:"fftSize",type:"number",required:!1,description:"FFT转换窗口大小（需为2的幂次方）",default:"256"},{name:"colors",type:"{ start: string, end: string }",required:!1,description:"渐变颜色配置（起始色/结束色）",default:'{ start: "#00ff00", end: "#ff0000" }'},{name:"customDraw",type:"function",required:!1,description:'自定义渲染函数（需配合 mode: "custom" 使用）',default:"null"}];return(a,i)=>(d(),r("div",null,[i[0]||(i[0]=E("",8)),F($),i[1]||(i[1]=E("",2)),F(G),i[2]||(i[2]=E("",2)),F(K),i[3]||(i[3]=E("",5)),F(w,{data:p}),i[4]||(i[4]=E("",2))]))}});export{as as __pageData,ns as default};
